{"ast":null,"code":"import { __rest } from \"tslib\";\nexport var flattenOptions = function (options) {\n  var parentMap = new Map();\n  var flatOptions = options.reduce(function (acc, option) {\n    if ('options' in option) {\n      var options_1 = option.options,\n        rest_1 = __rest(option, [\"options\"]);\n      var parentDropdownOption_1 = {\n        type: 'parent',\n        option: option\n      };\n      var allOptionsDisabled = options_1.every(function (option) {\n        return option.disabled;\n      });\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption_1.disabled = true;\n      }\n      acc.push(parentDropdownOption_1);\n      options_1.forEach(function (child) {\n        var childDropdownOption = {\n          type: 'child',\n          option: child\n        };\n        if (rest_1.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption_1);\n      });\n    } else {\n      var dropdownOption = {\n        option: option\n      };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n    return acc;\n  }, []);\n  return {\n    flatOptions: flatOptions,\n    parentMap: parentMap\n  };\n};","map":{"version":3,"mappings":";AAIA,OAAO,IAAMA,cAAc,GAAG,UAACC,OAAsD;EACnF,IAAMC,SAAS,GAAG,IAAIC,GAAG,EAAkC;EAE3D,IAAMC,WAAW,GAAGH,OAAO,CAACI,MAAM,CAAmB,UAACC,GAAG,EAAEC,MAAM;IAC/D,IAAI,SAAS,IAAIA,MAAM,EAAE;MACf,aAAO,GAAcA,MAAM,QAApB;QAAKC,MAAI,UAAKD,MAAM,EAA7B,WAAoB,CAAF;MACxB,IAAME,sBAAoB,GAAmB;QAAEC,IAAI,EAAE,QAAQ;QAAEH,MAAM;MAAA,CAAE;MACvE,IAAMI,kBAAkB,GAAGC,SAAO,CAACC,KAAK,CAAC,gBAAM;QAAI,aAAM,CAACC,QAAQ;MAAf,CAAe,CAAC;MACnE,IAAIP,MAAM,CAACO,QAAQ,IAAIH,kBAAkB,EAAE;QACzCF,sBAAoB,CAACK,QAAQ,GAAG,IAAI;;MAEtCR,GAAG,CAACS,IAAI,CAACN,sBAAoB,CAAC;MAC9BG,SAAO,CAACI,OAAO,CAAC,eAAK;QACnB,IAAMC,mBAAmB,GAAmB;UAAEP,IAAI,EAAE,OAAO;UAAEH,MAAM,EAAEW;QAAK,CAAE;QAC5E,IAAIV,MAAI,CAACM,QAAQ,IAAII,KAAK,CAACJ,QAAQ,EAAE;UACnCG,mBAAmB,CAACH,QAAQ,GAAG,IAAI;;QAErCR,GAAG,CAACS,IAAI,CAACE,mBAAmB,CAAC;QAC7Bf,SAAS,CAACiB,GAAG,CAACF,mBAAmB,EAAER,sBAAoB,CAAC;MAC1D,CAAC,CAAC;KACH,MAAM;MACL,IAAMW,cAAc,GAAmB;QAAEb,MAAM;MAAA,CAAE;MACjD,IAAIA,MAAM,CAACO,QAAQ,EAAE;QACnBM,cAAc,CAACN,QAAQ,GAAG,IAAI;;MAEhCR,GAAG,CAACS,IAAI,CAACK,cAAc,CAAC;;IAG1B,OAAOd,GAAG;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLF,WAAW;IACXF,SAAS;GACV;AACH,CAAC","names":["flattenOptions","options","parentMap","Map","flatOptions","reduce","acc","option","rest_1","parentDropdownOption_1","type","allOptionsDisabled","options_1","every","disabled","push","forEach","childDropdownOption","child","set","dropdownOption"],"sources":["/Users/dcastro/node_modules/src/internal/components/option/utils/flatten-options.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionGroup, OptionDefinition, DropdownOption } from '../interfaces';\n\nexport const flattenOptions = (options: ReadonlyArray<OptionDefinition | OptionGroup>) => {\n  const parentMap = new Map<DropdownOption, DropdownOption>();\n\n  const flatOptions = options.reduce<DropdownOption[]>((acc, option) => {\n    if ('options' in option) {\n      const { options, ...rest } = option;\n      const parentDropdownOption: DropdownOption = { type: 'parent', option };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption: DropdownOption = { type: 'child', option: child };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption: DropdownOption = { option };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n\n    return acc;\n  }, []);\n\n  return {\n    flatOptions,\n    parentMap,\n  };\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}