{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useState } from 'react';\nimport { useMutationObserver } from '../../hooks/use-mutation-observer';\nimport { findUpUntil } from '../../utils/dom';\nexport var useVisualContext = function (elementRef) {\n  var contextMatch = /awsui-context-([\\w-]+)/;\n  var _a = useState(''),\n    value = _a[0],\n    setValue = _a[1];\n  useMutationObserver(elementRef, function (node) {\n    var contextParent = findUpUntil(node, function (node) {\n      return !!node.className.match(contextMatch);\n    });\n    setValue(contextParent ? contextParent.className.match(contextMatch)[1] : '');\n  });\n  return value;\n};\n/**\n * This function returns only the className string needed to apply a\n * visual context to the DOM. It is used by the default export but\n * can also be imported directly for situations where the insertion\n * of a <div> node creates style problems.\n */\nexport function getVisualContextClassname(contextName) {\n  return \"awsui-context-\".concat(contextName);\n}\nexport default function VisualContext(_a) {\n  var contextName = _a.contextName,\n    className = _a.className,\n    children = _a.children;\n  return React.createElement(\"div\", {\n    className: clsx(getVisualContextClassname(contextName), className)\n  }, children);\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,mBAAmB,QAAQ,mCAAmC;AACvE,SAASC,WAAW,QAAQ,iBAAiB;AAE7C,OAAO,IAAMC,gBAAgB,GAAG,UAACC,UAAwC;EACvE,IAAMC,YAAY,GAAG,wBAAwB;EACvC,SAAoBL,QAAQ,CAAC,EAAE,CAAC;IAA/BM,KAAK;IAAEC,QAAQ,QAAgB;EACtCN,mBAAmB,CAACG,UAAU,EAAE,cAAI;IAClC,IAAMI,aAAa,GAAGN,WAAW,CAACO,IAAI,EAAE,cAAI;MAAI,QAAC,CAACA,IAAI,CAACC,SAAS,CAACC,KAAK,CAACN,YAAY,CAAC;IAApC,CAAoC,CAAC;IACrFE,QAAQ,CAACC,aAAa,GAAGA,aAAa,CAACE,SAAS,CAACC,KAAK,CAACN,YAAY,CAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;EAChF,CAAC,CAAC;EACF,OAAOC,KAAK;AACd,CAAC;AAQD;;;;;;AAMA,OAAM,SAAUM,yBAAyB,CAACC,WAAmB;EAC3D,OAAO,wBAAiBA,WAAW,CAAE;AACvC;AAEA,eAAc,SAAUC,aAAa,CAACC,EAAwD;MAAtDF,WAAW;IAAEH,SAAS;IAAEM,QAAQ;EACtE,OAAOjB;IAAKW,SAAS,EAAEZ,IAAI,CAACc,yBAAyB,CAACC,WAAW,CAAC,EAAEH,SAAS;EAAC,GAAGM,QAAQ,CAAO;AAClG","names":["clsx","React","useState","useMutationObserver","findUpUntil","useVisualContext","elementRef","contextMatch","value","setValue","contextParent","node","className","match","getVisualContextClassname","contextName","VisualContext","_a","children"],"sources":["/Users/dcastro/node_modules/src/internal/components/visual-context/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useState } from 'react';\nimport { useMutationObserver } from '../../hooks/use-mutation-observer';\nimport { findUpUntil } from '../../utils/dom';\n\nexport const useVisualContext = (elementRef: React.RefObject<HTMLElement>) => {\n  const contextMatch = /awsui-context-([\\w-]+)/;\n  const [value, setValue] = useState('');\n  useMutationObserver(elementRef, node => {\n    const contextParent = findUpUntil(node, node => !!node.className.match(contextMatch));\n    setValue(contextParent ? contextParent.className.match(contextMatch)![1] : '');\n  });\n  return value;\n};\n\ninterface VisualContextProps {\n  contextName: string;\n  className?: string;\n  children: React.ReactNode;\n}\n\n/**\n * This function returns only the className string needed to apply a\n * visual context to the DOM. It is used by the default export but\n * can also be imported directly for situations where the insertion\n * of a <div> node creates style problems.\n */\nexport function getVisualContextClassname(contextName: string) {\n  return `awsui-context-${contextName}`;\n}\n\nexport default function VisualContext({ contextName, className, children }: VisualContextProps) {\n  return <div className={clsx(getVisualContextClassname(contextName), className)}>{children}</div>;\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}