{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useCallback, useRef } from 'react';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport styles from './styles.css.js';\nimport { LeftIcon, RightIcon } from './icon-helper';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nexport var InternalButton = React.forwardRef(function (_a, ref) {\n  var _b;\n  var children = _a.children,\n    iconName = _a.iconName,\n    __iconClass = _a.__iconClass,\n    onClick = _a.onClick,\n    onFollow = _a.onFollow,\n    _c = _a.iconAlign,\n    iconAlign = _c === void 0 ? 'left' : _c,\n    iconUrl = _a.iconUrl,\n    iconSvg = _a.iconSvg,\n    iconAlt = _a.iconAlt,\n    _d = _a.variant,\n    variant = _d === void 0 ? 'normal' : _d,\n    _e = _a.loading,\n    loading = _e === void 0 ? false : _e,\n    _f = _a.disabled,\n    disabled = _f === void 0 ? false : _f,\n    _g = _a.wrapText,\n    wrapText = _g === void 0 ? true : _g,\n    href = _a.href,\n    target = _a.target,\n    download = _a.download,\n    _h = _a.formAction,\n    formAction = _h === void 0 ? 'submit' : _h,\n    ariaLabel = _a.ariaLabel,\n    ariaExpanded = _a.ariaExpanded,\n    __nativeAttributes = _a.__nativeAttributes,\n    _j = _a.__internalRootRef,\n    __internalRootRef = _j === void 0 ? null : _j,\n    _k = _a.__activated,\n    __activated = _k === void 0 ? false : _k,\n    props = __rest(_a, [\"children\", \"iconName\", \"__iconClass\", \"onClick\", \"onFollow\", \"iconAlign\", \"iconUrl\", \"iconSvg\", \"iconAlt\", \"variant\", \"loading\", \"disabled\", \"wrapText\", \"href\", \"target\", \"download\", \"formAction\", \"ariaLabel\", \"ariaExpanded\", \"__nativeAttributes\", \"__internalRootRef\", \"__activated\"]);\n  checkSafeUrl('Button', href);\n  var focusVisible = useFocusVisible();\n  var isAnchor = Boolean(href);\n  var isDisabled = loading || disabled;\n  var shouldHaveContent = children && ['icon', 'inline-icon', 'flashbar-icon', 'modal-dismiss'].indexOf(variant) === -1;\n  var buttonRef = useRef(null);\n  useForwardFocus(ref, buttonRef);\n  var handleClick = useCallback(function (event) {\n    if (isAnchor && isDisabled) {\n      return event.preventDefault();\n    }\n    if (isAnchor && isPlainLeftClick(event)) {\n      fireCancelableEvent(onFollow, null, event);\n    }\n    var altKey = event.altKey,\n      button = event.button,\n      ctrlKey = event.ctrlKey,\n      metaKey = event.metaKey,\n      shiftKey = event.shiftKey;\n    fireCancelableEvent(onClick, {\n      altKey: altKey,\n      button: button,\n      ctrlKey: ctrlKey,\n      metaKey: metaKey,\n      shiftKey: shiftKey\n    }, event);\n  }, [isAnchor, isDisabled, onClick, onFollow]);\n  var buttonClass = clsx(props.className, styles.button, styles[\"variant-\".concat(variant)], (_b = {}, _b[styles.disabled] = isDisabled, _b[styles['button-no-wrap']] = !wrapText, _b[styles['button-no-text']] = !shouldHaveContent, _b[styles['is-activated']] = __activated, _b));\n  var buttonProps = __assign(__assign(__assign(__assign({}, props), focusVisible), __nativeAttributes), {\n    // https://github.com/microsoft/TypeScript/issues/36659\n    ref: useMergeRefs(buttonRef, __internalRootRef),\n    'aria-label': ariaLabel,\n    'aria-expanded': ariaExpanded,\n    className: buttonClass,\n    onClick: handleClick\n  });\n  var iconProps = {\n    loading: loading,\n    iconName: iconName,\n    iconAlign: iconAlign,\n    iconUrl: iconUrl,\n    iconSvg: iconSvg,\n    iconAlt: iconAlt,\n    variant: variant,\n    iconClass: __iconClass,\n    iconSize: variant === 'modal-dismiss' ? 'medium' : 'normal'\n  };\n  var buttonContent = React.createElement(React.Fragment, null, React.createElement(LeftIcon, __assign({}, iconProps)), shouldHaveContent && React.createElement(\"span\", {\n    className: styles.content\n  }, children), React.createElement(RightIcon, __assign({}, iconProps)));\n  if (isAnchor) {\n    return (\n      // https://github.com/yannickcr/eslint-plugin-react/issues/2962\n      // eslint-disable-next-line react/jsx-no-target-blank\n      React.createElement(\"a\", __assign({}, buttonProps, {\n        href: href,\n        target: target,\n        // security recommendation: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target\n        rel: target === '_blank' ? 'noopener noreferrer' : undefined,\n        tabIndex: isDisabled ? -1 : undefined,\n        \"aria-disabled\": isDisabled ? true : undefined,\n        download: download\n      }), buttonContent)\n    );\n  }\n  return React.createElement(\"button\", __assign({}, buttonProps, {\n    type: formAction === 'none' ? 'button' : 'submit',\n    disabled: isDisabled\n  }), buttonContent);\n});\nexport default InternalButton;","map":{"version":3,"mappings":"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","names":["clsx","React","useCallback","useRef","fireCancelableEvent","isPlainLeftClick","useFocusVisible","useForwardFocus","styles","LeftIcon","RightIcon","checkSafeUrl","useMergeRefs","InternalButton","forwardRef","_a","ref","iconName","__iconClass","onClick","onFollow","_c","iconAlign","iconUrl","iconSvg","iconAlt","_d","variant","_e","loading","_f","disabled","_g","wrapText","href","target","download","_h","formAction","ariaLabel","ariaExpanded","__nativeAttributes","_j","__internalRootRef","_k","__activated","props","focusVisible","isAnchor","Boolean","isDisabled","shouldHaveContent","children","indexOf","buttonRef","handleClick","event","preventDefault","button","ctrlKey","metaKey","shiftKey","altKey","buttonClass","className","_b","buttonProps","__assign","iconProps","iconClass","iconSize","buttonContent","content","rel","undefined","tabIndex","type"],"sources":["/Users/dcastro/node_modules/src/button/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useCallback, useRef } from 'react';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport styles from './styles.css.js';\nimport { ButtonIconProps, LeftIcon, RightIcon } from './icon-helper';\nimport { ButtonProps } from './interfaces';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\n\ntype InternalButtonProps = Omit<ButtonProps, 'variant'> & {\n  variant?: ButtonProps['variant'] | 'flashbar-icon' | 'breadcrumb-group' | 'menu-trigger' | 'modal-dismiss';\n  __nativeAttributes?: Record<string, any>;\n  __iconClass?: string;\n  __activated?: boolean;\n} & InternalBaseComponentProps;\n\nexport const InternalButton = React.forwardRef(\n  (\n    {\n      children,\n      iconName,\n      __iconClass,\n      onClick,\n      onFollow,\n      iconAlign = 'left',\n      iconUrl,\n      iconSvg,\n      iconAlt,\n      variant = 'normal',\n      loading = false,\n      disabled = false,\n      wrapText = true,\n      href,\n      target,\n      download,\n      formAction = 'submit',\n      ariaLabel,\n      ariaExpanded,\n      __nativeAttributes,\n      __internalRootRef = null,\n      __activated = false,\n      ...props\n    }: InternalButtonProps,\n    ref: React.Ref<ButtonProps.Ref>\n  ) => {\n    checkSafeUrl('Button', href);\n    const focusVisible = useFocusVisible();\n    const isAnchor = Boolean(href);\n    const isDisabled = loading || disabled;\n    const shouldHaveContent =\n      children && ['icon', 'inline-icon', 'flashbar-icon', 'modal-dismiss'].indexOf(variant) === -1;\n\n    const buttonRef = useRef<HTMLElement>(null);\n    useForwardFocus(ref, buttonRef);\n\n    const handleClick = useCallback(\n      (event: React.MouseEvent) => {\n        if (isAnchor && isDisabled) {\n          return event.preventDefault();\n        }\n\n        if (isAnchor && isPlainLeftClick(event)) {\n          fireCancelableEvent(onFollow, null, event);\n        }\n\n        const { altKey, button, ctrlKey, metaKey, shiftKey } = event;\n        fireCancelableEvent(onClick, { altKey, button, ctrlKey, metaKey, shiftKey }, event);\n      },\n      [isAnchor, isDisabled, onClick, onFollow]\n    );\n\n    const buttonClass = clsx(props.className, styles.button, styles[`variant-${variant}`], {\n      [styles.disabled]: isDisabled,\n      [styles['button-no-wrap']]: !wrapText,\n      [styles['button-no-text']]: !shouldHaveContent,\n      [styles['is-activated']]: __activated,\n    });\n\n    const buttonProps = {\n      ...props,\n      ...focusVisible,\n      ...__nativeAttributes,\n      // https://github.com/microsoft/TypeScript/issues/36659\n      ref: useMergeRefs(buttonRef as any, __internalRootRef),\n      'aria-label': ariaLabel,\n      'aria-expanded': ariaExpanded,\n      className: buttonClass,\n      onClick: handleClick,\n    } as const;\n    const iconProps: ButtonIconProps = {\n      loading,\n      iconName,\n      iconAlign,\n      iconUrl,\n      iconSvg,\n      iconAlt,\n      variant,\n      iconClass: __iconClass,\n      iconSize: variant === 'modal-dismiss' ? 'medium' : 'normal',\n    };\n    const buttonContent = (\n      <>\n        <LeftIcon {...iconProps} />\n        {shouldHaveContent && <span className={styles.content}>{children}</span>}\n        <RightIcon {...iconProps} />\n      </>\n    );\n\n    if (isAnchor) {\n      return (\n        // https://github.com/yannickcr/eslint-plugin-react/issues/2962\n        // eslint-disable-next-line react/jsx-no-target-blank\n        <a\n          {...buttonProps}\n          href={href}\n          target={target}\n          // security recommendation: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target\n          rel={target === '_blank' ? 'noopener noreferrer' : undefined}\n          tabIndex={isDisabled ? -1 : undefined}\n          aria-disabled={isDisabled ? true : undefined}\n          download={download}\n        >\n          {buttonContent}\n        </a>\n      );\n    }\n    return (\n      <button {...buttonProps} type={formAction === 'none' ? 'button' : 'submit'} disabled={isDisabled}>\n        {buttonContent}\n      </button>\n    );\n  }\n);\n\nexport default InternalButton;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}