{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport InternalBox from '../../box/internal';\nimport { InternalButton } from '../../button/internal';\nimport InternalSpaceBetween from '../../space-between/internal';\nimport PopoverContainer from '../../popover/container';\nimport PopoverBody from '../../popover/body';\nimport InternalAlert from '../../alert/internal';\nimport { scrollElementIntoView } from '../../internal/utils/scrollable-containers';\nvar arrow = function (position) {\n  return React.createElement(\"div\", {\n    className: clsx(styles.arrow, styles[\"arrow-position-\".concat(position)])\n  }, React.createElement(\"div\", {\n    className: styles['arrow-outer']\n  }), React.createElement(\"div\", {\n    className: styles['arrow-inner']\n  }));\n};\nexport function AnnotationPopover(_a) {\n  var title = _a.title,\n    content = _a.content,\n    alert = _a.alert,\n    _b = _a.direction,\n    direction = _b === void 0 ? 'top' : _b,\n    taskLocalStepIndex = _a.taskLocalStepIndex,\n    totalLocalSteps = _a.totalLocalSteps,\n    showPreviousButton = _a.showPreviousButton,\n    showFinishButton = _a.showFinishButton,\n    onDismiss = _a.onDismiss,\n    nextButtonEnabled = _a.nextButtonEnabled,\n    onNextButtonClick = _a.onNextButtonClick,\n    onFinish = _a.onFinish,\n    trackRef = _a.trackRef,\n    previousButtonEnabled = _a.previousButtonEnabled,\n    onPreviousButtonClick = _a.onPreviousButtonClick,\n    i18nStrings = _a.i18nStrings;\n  var dismissButtonRefCallback = useCallback(function (element) {\n    var _a;\n    if (element) {\n      element.focus({\n        preventScroll: true\n      });\n      // Falls back to alignTop on IE11\n      scrollElementIntoView((_a = trackRef.current) !== null && _a !== void 0 ? _a : undefined);\n    }\n  }, [trackRef]);\n  return React.createElement(PopoverContainer, {\n    size: \"medium\",\n    fixedWidth: false,\n    position: direction,\n    trackRef: trackRef,\n    trackKey: taskLocalStepIndex,\n    variant: \"annotation\",\n    arrow: arrow,\n    zIndex: 1000\n  }, React.createElement(PopoverBody, {\n    dismissButton: true,\n    dismissAriaLabel: i18nStrings.labelDismissAnnotation,\n    header: React.createElement(InternalBox, {\n      color: \"text-body-secondary\",\n      fontSize: \"body-s\",\n      margin: {\n        top: 'xxxs'\n      },\n      className: styles.header\n    }, title),\n    onDismiss: onDismiss,\n    className: styles.annotation,\n    variant: \"annotation\",\n    overflowVisible: \"content\",\n    dismissButtonRef: dismissButtonRefCallback\n  }, React.createElement(InternalSpaceBetween, {\n    size: \"s\"\n  }, React.createElement(\"div\", {\n    className: styles.description\n  }, React.createElement(InternalBox, {\n    className: styles.content\n  }, content)), alert && React.createElement(InternalAlert, {\n    type: \"warning\"\n  }, alert), React.createElement(InternalSpaceBetween, {\n    size: \"s\"\n  }, React.createElement(\"div\", {\n    className: styles.divider\n  }), React.createElement(\"div\", {\n    className: styles.actionBar\n  }, React.createElement(\"div\", {\n    className: styles.stepCounter\n  }, React.createElement(InternalBox, {\n    className: styles['step-counter-content'],\n    color: \"text-body-secondary\",\n    fontSize: \"body-s\"\n  }, i18nStrings.stepCounterText(taskLocalStepIndex !== null && taskLocalStepIndex !== void 0 ? taskLocalStepIndex : 0, totalLocalSteps !== null && totalLocalSteps !== void 0 ? totalLocalSteps : 0))), React.createElement(InternalSpaceBetween, {\n    size: \"xs\",\n    direction: \"horizontal\"\n  }, showPreviousButton && React.createElement(InternalButton, {\n    variant: \"link\",\n    onClick: onPreviousButtonClick,\n    disabled: !previousButtonEnabled,\n    formAction: \"none\",\n    ariaLabel: i18nStrings.previousButtonText,\n    className: styles['previous-button']\n  }, i18nStrings.previousButtonText), showFinishButton ? React.createElement(InternalButton, {\n    onClick: onFinish,\n    formAction: \"none\",\n    ariaLabel: i18nStrings.finishButtonText,\n    className: styles['finish-button']\n  }, i18nStrings.finishButtonText) : React.createElement(InternalButton, {\n    onClick: onNextButtonClick,\n    disabled: !nextButtonEnabled,\n    formAction: \"none\",\n    ariaLabel: i18nStrings.nextButtonText,\n    className: styles['next-button']\n  }, i18nStrings.nextButtonText)))))));\n}","map":{"version":3,"mappings":"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","names":["React","useCallback","clsx","styles","InternalBox","InternalButton","InternalSpaceBetween","PopoverContainer","PopoverBody","InternalAlert","scrollElementIntoView","arrow","position","className","AnnotationPopover","_a","title","content","alert","_b","direction","taskLocalStepIndex","totalLocalSteps","showPreviousButton","showFinishButton","onDismiss","nextButtonEnabled","onNextButtonClick","onFinish","trackRef","previousButtonEnabled","onPreviousButtonClick","i18nStrings","dismissButtonRefCallback","element","focus","preventScroll","current","undefined","size","fixedWidth","trackKey","variant","zIndex","dismissButton","dismissAriaLabel","labelDismissAnnotation","header","color","fontSize","margin","top","annotation","overflowVisible","dismissButtonRef","description","type","divider","actionBar","stepCounter","stepCounterText","onClick","disabled","formAction","ariaLabel","previousButtonText","finishButtonText","nextButtonText"],"sources":["/Users/dcastro/node_modules/src/annotation-context/annotation/annotation-popover.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport InternalBox from '../../box/internal';\nimport { ButtonProps } from '../../button/interfaces';\nimport { InternalButton } from '../../button/internal';\nimport InternalSpaceBetween from '../../space-between/internal';\nimport PopoverContainer from '../../popover/container';\nimport PopoverBody from '../../popover/body';\nimport { HotspotProps } from '../../hotspot/interfaces';\nimport { AnnotationContextProps } from '../interfaces';\nimport InternalAlert from '../../alert/internal';\nimport { InternalPosition } from '../../popover/interfaces';\nimport { scrollElementIntoView } from '../../internal/utils/scrollable-containers';\n\nexport interface AnnotationPopoverProps {\n  title: string;\n  content: React.ReactNode;\n  alert: React.ReactNode;\n\n  direction: HotspotProps['direction'];\n\n  nextButtonEnabled: boolean;\n  onNextButtonClick: () => void;\n\n  onFinish: () => void;\n\n  showPreviousButton: boolean;\n  previousButtonEnabled: boolean;\n  onPreviousButtonClick: () => void;\n\n  taskLocalStepIndex: number;\n\n  totalLocalSteps: number;\n\n  showFinishButton: boolean;\n\n  onDismiss: () => void;\n\n  trackRef: React.RefObject<HTMLElement>;\n\n  i18nStrings: AnnotationContextProps['i18nStrings'];\n}\n\nconst arrow = (position: InternalPosition | null) => (\n  <div className={clsx(styles.arrow, styles[`arrow-position-${position}`])}>\n    <div className={styles['arrow-outer']} />\n    <div className={styles['arrow-inner']} />\n  </div>\n);\n\nexport function AnnotationPopover({\n  title,\n  content,\n  alert,\n\n  direction = 'top',\n\n  taskLocalStepIndex,\n\n  totalLocalSteps,\n\n  showPreviousButton,\n  showFinishButton,\n\n  onDismiss,\n\n  nextButtonEnabled,\n  onNextButtonClick,\n\n  onFinish,\n\n  trackRef,\n\n  previousButtonEnabled,\n  onPreviousButtonClick,\n  i18nStrings,\n}: AnnotationPopoverProps) {\n  const dismissButtonRefCallback = useCallback(\n    (element: ButtonProps.Ref) => {\n      if (element) {\n        element.focus({ preventScroll: true });\n        // Falls back to alignTop on IE11\n        scrollElementIntoView(trackRef.current ?? undefined);\n      }\n    },\n    [trackRef]\n  );\n\n  return (\n    <PopoverContainer\n      size=\"medium\"\n      fixedWidth={false}\n      position={direction}\n      trackRef={trackRef}\n      trackKey={taskLocalStepIndex}\n      variant=\"annotation\"\n      arrow={arrow}\n      zIndex={1000}\n    >\n      <PopoverBody\n        dismissButton={true}\n        dismissAriaLabel={i18nStrings.labelDismissAnnotation}\n        header={\n          <InternalBox color=\"text-body-secondary\" fontSize=\"body-s\" margin={{ top: 'xxxs' }} className={styles.header}>\n            {title}\n          </InternalBox>\n        }\n        onDismiss={onDismiss}\n        className={styles.annotation}\n        variant=\"annotation\"\n        overflowVisible=\"content\"\n        dismissButtonRef={dismissButtonRefCallback}\n      >\n        <InternalSpaceBetween size=\"s\">\n          <div className={styles.description}>\n            <InternalBox className={styles.content}>{content}</InternalBox>\n          </div>\n\n          {alert && <InternalAlert type=\"warning\">{alert}</InternalAlert>}\n\n          <InternalSpaceBetween size=\"s\">\n            <div className={styles.divider} />\n\n            <div className={styles.actionBar}>\n              <div className={styles.stepCounter}>\n                <InternalBox className={styles['step-counter-content']} color=\"text-body-secondary\" fontSize=\"body-s\">\n                  {i18nStrings.stepCounterText(taskLocalStepIndex ?? 0, totalLocalSteps ?? 0)}\n                </InternalBox>\n              </div>\n              <InternalSpaceBetween size=\"xs\" direction=\"horizontal\">\n                {showPreviousButton && (\n                  <InternalButton\n                    variant=\"link\"\n                    onClick={onPreviousButtonClick}\n                    disabled={!previousButtonEnabled}\n                    formAction=\"none\"\n                    ariaLabel={i18nStrings.previousButtonText}\n                    className={styles['previous-button']}\n                  >\n                    {i18nStrings.previousButtonText}\n                  </InternalButton>\n                )}\n\n                {showFinishButton ? (\n                  <InternalButton\n                    onClick={onFinish}\n                    formAction=\"none\"\n                    ariaLabel={i18nStrings.finishButtonText}\n                    className={styles['finish-button']}\n                  >\n                    {i18nStrings.finishButtonText}\n                  </InternalButton>\n                ) : (\n                  <InternalButton\n                    onClick={onNextButtonClick}\n                    disabled={!nextButtonEnabled}\n                    formAction=\"none\"\n                    ariaLabel={i18nStrings.nextButtonText}\n                    className={styles['next-button']}\n                  >\n                    {i18nStrings.nextButtonText}\n                  </InternalButton>\n                )}\n              </InternalSpaceBetween>\n            </div>\n          </InternalSpaceBetween>\n        </InternalSpaceBetween>\n      </PopoverBody>\n    </PopoverContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}