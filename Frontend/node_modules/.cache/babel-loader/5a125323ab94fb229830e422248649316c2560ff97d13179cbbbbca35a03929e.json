{"ast":null,"code":"import { __assign, __rest, __spreadArray } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport InternalIcon from '../icon/internal';\nimport InternalButtonDropdown from '../button-dropdown/internal';\nimport { InternalButton } from '../button/internal';\nimport { BreadcrumbItem } from './item/item';\nimport { fireCancelableEvent } from '../internal/events';\nimport { getBaseProps } from '../internal/base-component';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nvar DropdownTrigger = function (clickHandler, ref, isDisabled, isExpanded, ariaLabel) {\n  return React.createElement(InternalButton, {\n    disabled: isDisabled,\n    onClick: function (event) {\n      event.preventDefault();\n      clickHandler();\n    },\n    ref: ref,\n    ariaExpanded: isExpanded,\n    \"aria-haspopup\": true,\n    ariaLabel: ariaLabel,\n    variant: \"breadcrumb-group\",\n    formAction: \"none\"\n  }, \"...\");\n};\nvar EllipsisDropdown = function (_a) {\n  var ariaLabel = _a.ariaLabel,\n    dropdownItems = _a.dropdownItems,\n    onDropdownItemClick = _a.onDropdownItemClick,\n    onDropdownItemFollow = _a.onDropdownItemFollow;\n  return React.createElement(\"li\", {\n    className: styles.ellipsis\n  }, React.createElement(InternalButtonDropdown, {\n    ariaLabel: ariaLabel,\n    items: dropdownItems,\n    onItemClick: onDropdownItemClick,\n    onItemFollow: onDropdownItemFollow,\n    customTriggerBuilder: DropdownTrigger\n  }), React.createElement(\"span\", {\n    className: styles.icon\n  }, React.createElement(InternalIcon, {\n    name: \"angle-right\"\n  })));\n};\nexport var getEventDetail = function (item) {\n  return {\n    item: item,\n    text: item.text,\n    href: item.href\n  };\n};\nexport default function InternalBreadcrumbGroup(_a) {\n  var _b = _a.items,\n    items = _b === void 0 ? [] : _b,\n    ariaLabel = _a.ariaLabel,\n    expandAriaLabel = _a.expandAriaLabel,\n    onClick = _a.onClick,\n    onFollow = _a.onFollow,\n    __internalRootRef = _a.__internalRootRef,\n    props = __rest(_a, [\"items\", \"ariaLabel\", \"expandAriaLabel\", \"onClick\", \"onFollow\", \"__internalRootRef\"]);\n  for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n    var item = items_1[_i];\n    checkSafeUrl('BreadcrumbGroup', item.href);\n  }\n  var baseProps = getBaseProps(props);\n  var isMobile = useMobile();\n  var breadcrumbItems = items.map(function (item, index) {\n    return React.createElement(\"li\", {\n      className: styles.item,\n      key: index\n    }, React.createElement(BreadcrumbItem, {\n      item: item,\n      onClick: onClick,\n      onFollow: onFollow,\n      isCompressed: isMobile,\n      isLast: index === items.length - 1\n    }));\n  });\n  var getEventItem = function (e) {\n    var id = e.detail.id;\n    return items[parseInt(id)];\n  };\n  // Add ellipsis\n  if (breadcrumbItems.length >= 3) {\n    var dropdownItems = items.slice(1, items.length - 1).map(function (item, index) {\n      return {\n        id: (index + 1).toString(),\n        text: item.text,\n        href: item.href || '#'\n      };\n    });\n    breadcrumbItems = __spreadArray([breadcrumbItems[0], React.createElement(EllipsisDropdown, {\n      key: 'ellipsis',\n      ariaLabel: expandAriaLabel,\n      dropdownItems: dropdownItems,\n      onDropdownItemClick: function (e) {\n        return fireCancelableEvent(onClick, getEventDetail(getEventItem(e)), e);\n      },\n      onDropdownItemFollow: function (e) {\n        return fireCancelableEvent(onFollow, getEventDetail(getEventItem(e)), e);\n      }\n    })], breadcrumbItems.slice(1), true);\n  }\n  return React.createElement(\"nav\", __assign({}, baseProps, {\n    className: clsx(styles['breadcrumb-group'], isMobile && styles.mobile, baseProps.className),\n    \"aria-label\": ariaLabel || undefined,\n    ref: __internalRootRef\n  }), React.createElement(\"ol\", {\n    className: styles['breadcrumb-group-list']\n  }, breadcrumbItems));\n}","map":{"version":3,"mappings":"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","names":["React","styles","clsx","InternalIcon","InternalButtonDropdown","InternalButton","BreadcrumbItem","fireCancelableEvent","getBaseProps","useMobile","checkSafeUrl","DropdownTrigger","clickHandler","ref","isDisabled","isExpanded","ariaLabel","disabled","onClick","event","preventDefault","ariaExpanded","variant","formAction","EllipsisDropdown","_a","dropdownItems","onDropdownItemClick","onDropdownItemFollow","className","ellipsis","items","onItemClick","onItemFollow","customTriggerBuilder","icon","name","getEventDetail","item","text","href","InternalBreadcrumbGroup","expandAriaLabel","onFollow","__internalRootRef","props","items_1","_i","baseProps","isMobile","breadcrumbItems","map","index","key","isCompressed","isLast","length","getEventItem","e","detail","parseInt","id","slice","toString","mobile","undefined"],"sources":["/Users/dcastro/node_modules/src/breadcrumb-group/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport InternalIcon from '../icon/internal';\nimport InternalButtonDropdown from '../button-dropdown/internal';\nimport { LinkItem } from '../button-dropdown/interfaces';\nimport { InternalButton } from '../button/internal';\nimport { ButtonProps } from '../button/interfaces';\nimport { BreadcrumbItem } from './item/item';\nimport { BreadcrumbGroupProps, EllipsisDropdownProps } from './interfaces';\nimport { fireCancelableEvent } from '../internal/events';\nimport { getBaseProps } from '../internal/base-component';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { SomeRequired } from '../internal/types.js';\n\nconst DropdownTrigger = (\n  clickHandler: () => void,\n  ref: React.Ref<ButtonProps.Ref>,\n  isDisabled: boolean,\n  isExpanded: boolean,\n  ariaLabel?: string\n) => {\n  return (\n    <InternalButton\n      disabled={isDisabled}\n      onClick={event => {\n        event.preventDefault();\n        clickHandler();\n      }}\n      ref={ref}\n      ariaExpanded={isExpanded}\n      aria-haspopup={true}\n      ariaLabel={ariaLabel}\n      variant=\"breadcrumb-group\"\n      formAction=\"none\"\n    >\n      ...\n    </InternalButton>\n  );\n};\n\nconst EllipsisDropdown = ({\n  ariaLabel,\n  dropdownItems,\n  onDropdownItemClick,\n  onDropdownItemFollow,\n}: EllipsisDropdownProps) => {\n  return (\n    <li className={styles.ellipsis}>\n      <InternalButtonDropdown\n        ariaLabel={ariaLabel}\n        items={dropdownItems}\n        onItemClick={onDropdownItemClick}\n        onItemFollow={onDropdownItemFollow}\n        customTriggerBuilder={DropdownTrigger}\n      />\n      <span className={styles.icon}>\n        <InternalIcon name=\"angle-right\" />\n      </span>\n    </li>\n  );\n};\n\nexport const getEventDetail = <T extends BreadcrumbGroupProps.Item>(item: T) => ({\n  item,\n  text: item.text,\n  href: item.href,\n});\n\ntype InternalBreadcrumbGroupProps<T extends BreadcrumbGroupProps.Item = BreadcrumbGroupProps.Item> = SomeRequired<\n  BreadcrumbGroupProps<T>,\n  'expandAriaLabel'\n> &\n  InternalBaseComponentProps;\n\nexport default function InternalBreadcrumbGroup<T extends BreadcrumbGroupProps.Item = BreadcrumbGroupProps.Item>({\n  items = [],\n  ariaLabel,\n  expandAriaLabel,\n  onClick,\n  onFollow,\n  __internalRootRef,\n  ...props\n}: InternalBreadcrumbGroupProps<T>) {\n  for (const item of items) {\n    checkSafeUrl('BreadcrumbGroup', item.href);\n  }\n  const baseProps = getBaseProps(props);\n  const isMobile = useMobile();\n\n  let breadcrumbItems = items.map((item, index) => {\n    return (\n      <li className={styles.item} key={index}>\n        <BreadcrumbItem\n          item={item}\n          onClick={onClick}\n          onFollow={onFollow}\n          isCompressed={isMobile}\n          isLast={index === items.length - 1}\n        />\n      </li>\n    );\n  });\n\n  const getEventItem = (e: CustomEvent<{ id: string }>) => {\n    const { id } = e.detail;\n    return items[parseInt(id)];\n  };\n\n  // Add ellipsis\n  if (breadcrumbItems.length >= 3) {\n    const dropdownItems: Array<LinkItem> = items\n      .slice(1, items.length - 1)\n      .map((item: BreadcrumbGroupProps.Item, index: number) => ({\n        id: (index + 1).toString(), // the first item doesn't get inside dropdown\n        text: item.text,\n        href: item.href || '#',\n      }));\n\n    breadcrumbItems = [\n      breadcrumbItems[0],\n      <EllipsisDropdown\n        key={'ellipsis'}\n        ariaLabel={expandAriaLabel}\n        dropdownItems={dropdownItems}\n        onDropdownItemClick={e => fireCancelableEvent(onClick, getEventDetail(getEventItem(e)), e)}\n        onDropdownItemFollow={e => fireCancelableEvent(onFollow, getEventDetail(getEventItem(e)), e)}\n      />,\n      ...breadcrumbItems.slice(1),\n    ];\n  }\n\n  return (\n    <nav\n      {...baseProps}\n      className={clsx(styles['breadcrumb-group'], isMobile && styles.mobile, baseProps.className)}\n      aria-label={ariaLabel || undefined}\n      ref={__internalRootRef}\n    >\n      <ol className={styles['breadcrumb-group-list']}>{breadcrumbItems}</ol>\n    </nav>\n  );\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}