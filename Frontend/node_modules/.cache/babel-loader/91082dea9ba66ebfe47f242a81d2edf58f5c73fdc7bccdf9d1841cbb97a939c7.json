{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useState } from 'react';\nimport { useObservedElement } from './use-observed-element';\nexport default function useContentHeight(headerSelector, footerSelector, disableBodyScroll) {\n  var _a;\n  var headerHeight = useObservedElement(headerSelector);\n  var footerHeight = useObservedElement(footerSelector);\n  var _b = useState(0),\n    headerFooterHeight = _b[0],\n    setHeaderFooterHeight = _b[1];\n  // Delay applying changes in header/footer height, as applying them immediately can cause\n  // ResizeOberver warnings due to the algorithm thinking that the change might have side-effects\n  // further up the tree, therefore blocking notifications to prevent loops\n  useEffect(function () {\n    var id = requestAnimationFrame(function () {\n      return setHeaderFooterHeight(headerHeight + footerHeight);\n    });\n    return function () {\n      return cancelAnimationFrame(id);\n    };\n  }, [headerHeight, footerHeight]);\n  var heightStyleValue = \"calc(100vh - \".concat(headerFooterHeight, \"px)\");\n  return {\n    headerHeight: headerHeight,\n    footerHeight: footerHeight,\n    contentHeightStyle: (_a = {}, _a[disableBodyScroll ? 'height' : 'minHeight'] = heightStyleValue, _a),\n    panelHeightStyle: {\n      height: heightStyleValue\n    }\n  };\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,kBAAkB,QAAQ,wBAAwB;AAE3D,eAAc,SAAUC,gBAAgB,CAACC,cAAsB,EAAEC,cAAsB,EAAEC,iBAA2B;;EAClH,IAAMC,YAAY,GAAGL,kBAAkB,CAACE,cAAc,CAAC;EACvD,IAAMI,YAAY,GAAGN,kBAAkB,CAACG,cAAc,CAAC;EACjD,SAA8CJ,QAAQ,CAAC,CAAC,CAAC;IAAxDQ,kBAAkB;IAAEC,qBAAqB,QAAe;EAE/D;EACA;EACA;EACAV,SAAS,CAAC;IACR,IAAMW,EAAE,GAAGC,qBAAqB,CAAC;MAAM,4BAAqB,CAACL,YAAY,GAAGC,YAAY,CAAC;IAAlD,CAAkD,CAAC;IAC1F,OAAO;MAAM,2BAAoB,CAACG,EAAE,CAAC;IAAxB,CAAwB;EACvC,CAAC,EAAE,CAACJ,YAAY,EAAEC,YAAY,CAAC,CAAC;EAEhC,IAAMK,gBAAgB,GAAG,uBAAgBJ,kBAAkB,QAAK;EAEhE,OAAO;IACLF,YAAY;IACZC,YAAY;IACZM,kBAAkB,YAChBC,GAACT,iBAAiB,GAAG,QAAQ,GAAG,WAAW,IAAGO,gBAAgB,KAC/D;IACDG,gBAAgB,EAAE;MAChBC,MAAM,EAAEJ;;GAEX;AACH","names":["useEffect","useState","useObservedElement","useContentHeight","headerSelector","footerSelector","disableBodyScroll","headerHeight","footerHeight","headerFooterHeight","setHeaderFooterHeight","id","requestAnimationFrame","heightStyleValue","contentHeightStyle","_a","panelHeightStyle","height"],"sources":["/Users/dcastro/node_modules/src/app-layout/utils/use-content-height.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useState } from 'react';\nimport { useObservedElement } from './use-observed-element';\n\nexport default function useContentHeight(headerSelector: string, footerSelector: string, disableBodyScroll?: boolean) {\n  const headerHeight = useObservedElement(headerSelector);\n  const footerHeight = useObservedElement(footerSelector);\n  const [headerFooterHeight, setHeaderFooterHeight] = useState(0);\n\n  // Delay applying changes in header/footer height, as applying them immediately can cause\n  // ResizeOberver warnings due to the algorithm thinking that the change might have side-effects\n  // further up the tree, therefore blocking notifications to prevent loops\n  useEffect(() => {\n    const id = requestAnimationFrame(() => setHeaderFooterHeight(headerHeight + footerHeight));\n    return () => cancelAnimationFrame(id);\n  }, [headerHeight, footerHeight]);\n\n  const heightStyleValue = `calc(100vh - ${headerFooterHeight}px)`;\n\n  return {\n    headerHeight,\n    footerHeight,\n    contentHeightStyle: {\n      [disableBodyScroll ? 'height' : 'minHeight']: heightStyleValue,\n    },\n    panelHeightStyle: {\n      height: heightStyleValue,\n    },\n  };\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}